{"version":3,"sources":["webpack:///./src/pages/cards.js","webpack:///./src/utils/createHashSource.js","webpack:///./src/components/app.js"],"names":["Card","props","_this","_React$Component","call","this","state","isFront","showNotes","turn","setState","toggleNotes","render","_this2","_this$props$item","item","word","definition","notes","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","onClick","React","Component","Stack","_this3","_React$Component2","index","next","size","vocabulary","length","_this4","key","CardsApp","_components_app__WEBPACK_IMPORTED_MODULE_2__","replaceHashPath","path","hashIndex","window","location","href","indexOf","console","log","slice","replace","getState","pathname","substring","search","createHashSource","resolveInitialState","addEventListener","name","fn","removeEventListener","history","pushState","stateObj","_","uri","hash","replaceState","isBrower","App","createHistory","renderDynamic","renderStatic","react_default","es","children"],"mappings":"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","file":"component---src-pages-cards-js-8a5a43ae453c80f7052b.js","sourcesContent":["import React from 'react'\nimport App from '../components/app'\n\nclass Card extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isFront: true,\n      showNotes: false\n    }\n  }\n\n  turn() {\n    this.setState((state) => ({\n      isFront: !state.isFront      \n    }))\n  }\n\n  toggleNotes() {\n    this.setState((state) => ({\n      showNotes: !state.showNotes      \n    }))\n  }\n\n  render() {\n    const { word, definition, notes } = this.props.item\n    return (\n      <div>\n        {this.state.isFront ? <p>{word}</p> : <p>{definition}</p>}\n        {this.state.showNotes ? <p>{notes}</p> : null}\n        <button onClick={() => this.turn()}>Turn Card</button>\n        <button onClick={() => this.toggleNotes()}>{this.state.showNotes ? 'Hide Notes' : 'Show Notes'}</button>\n      </div>\n    )\n  }\n}\n\nclass Stack extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      index: 0\n    }\n  }\n\n  next() {\n    const incIndex = (index, size) => index + 1 < size ? index + 1 : 0\n    this.setState((state, props) => ({\n      index: incIndex(state.index, props.vocabulary.length)\n    }))\n  }\n\n  render() {\n    const item = this.props.vocabulary[this.state.index]\n    return (\n      <div>\n        <Card key={item.word} item={item}/>\n        <button onClick={() => this.next()}>Next</button>\n      </div>\n    )\n  }\n}\n\nconst vocabulary = [\n  {\n    word: `das Fahrrad, die Fahrräder`,\n    definition: `bicycle`,\n    notes: `Kurzform: das Rad, die Räder`\n  },\n  {\n    word: `word`,\n    definition: `单词`,\n    notes: `some notes`\n  },\n  {\n    word: `some word`,\n    definition: `some definition`,\n    notes: `some other notes`\n  },\n]\n\nconst CardsApp = () => (\n  <App>\n    <h1>My Cards</h1>\n    <Stack vocabulary={vocabulary} />\n  </App>\n)\n\nexport default CardsApp\n","// implementation take from [hash-source](https://github.com/will-stone/hash-source/blob/master/src/createHashSource.ts)\n\nconst getHashPath = () => {\n  const href = window.location.href\n  const hashIndex = href.indexOf('#')\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1)\n}\n\nconst pushHashPath = path => (window.location.hash = path)\n\nconst replaceHashPath = path => {\n  const hashIndex = window.location.href.indexOf('#')\n  console.log(window.location.href.slice(0, hashIndex >= 0 ? hashIndex : 0))\n  window.location.replace(\n    window.location.href.slice(0, hashIndex >= 0 ? hashIndex : 0) + '#' + path\n  )\n}\n\nconst getState = path => {\n  const pathname = path ? path : getHashPath()\n  return { pathname, search: '' }\n}\n\nconst resolveInitialState = state => {\n  if (state.pathname === '') {\n    replaceHashPath('/')\n  }\n}\n\nexport const createHashSource = () => {\n  let state = getState()\n\n  resolveInitialState(state)\n\n  return {\n    get location() {\n      return getState()\n    },\n    addEventListener(name, fn) {\n      window.addEventListener(name, fn)\n    },\n    removeEventListener(name, fn) {\n      window.removeEventListener(name, fn)\n    },\n    history: {\n      state,\n      pushState(stateObj, _, uri) {\n        state = getState(uri)\n        pushHashPath(uri)\n      },\n      replaceState(stateObj, _, uri) {\n        state = getState(uri)\n        replaceHashPath(uri)\n      },\n    },\n  }\n}\n\nexport const isBrower = () => typeof window !== 'undefined'\n","import React from 'react'\nimport { createHistory, LocationProvider } from '@reach/router'\nimport { createHashSource, isBrower } from '../utils/createHashSource'\n\n// App container with support for hash router\n// This is based on example of [Hash Source] using @reach/router\n// https://github.com/will-stone/hash-source/blob/master/README.md\n// References:\n// [Gatsby Simple Auth Example](https://github.com/gatsbyjs/gatsby/blob/master/examples/simple-auth/src/pages/app.js)\n// The example uses client normal routing which needs server redirection to support user visiting the client route directly\n// https://www.gatsbyjs.org/docs/authentication-tutorial/#creating-client-only-routes\n// [@reach/router createHistory()](https://reach.tech/router/api/createHistory)\n// [@reach/router createMemoryStore()](https://github.com/reach/router/blob/master/src/lib/history.js)\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    if (isBrower()) {\n      this.history = createHistory(createHashSource())\n    }\n    console.log(\"app is initialized\")\n  }\n\n  render() {\n    return isBrower() ? this.renderDynamic() : this.renderStatic()\n  }\n\n  renderDynamic() {\n    return (\n      <LocationProvider history={this.history}>\n        {this.props.children}\n      </LocationProvider>\n    )\n  }\n\n  renderStatic() {\n    return <h1>This app will only be rendered in browser.</h1>\n  }\n}\n\nexport default App\n"],"sourceRoot":""}